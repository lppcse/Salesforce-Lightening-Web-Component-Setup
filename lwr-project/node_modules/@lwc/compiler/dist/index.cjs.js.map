{"version":3,"file":"index.cjs.js","sources":["../src/options.ts","../src/transformers/style.ts","../src/transformers/template.ts","../src/transformers/javascript.ts","../src/transformers/transformer.ts","../src/index.ts"],"sourcesContent":["/*\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: MIT\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT\n */\nimport { CompilerValidationErrors, invariant } from '@lwc/errors';\nimport { isUndefined, isBoolean, getAPIVersionFromNumber } from '@lwc/shared';\n/**\n * Flag indicating that a warning about still using the deprecated `enableLwcSpread`\n * compiler option has already been logged to the `console`.\n */\nlet alreadyWarnedAboutLwcSpread = false;\n/**\n * Flag indicating that a warning about still using the deprecated `stylesheetConfig`\n * compiler option has already been logged to the `console`.\n */\nlet alreadyWarnedOnStylesheetConfig = false;\nconst DEFAULT_OPTIONS = {\n    isExplicitImport: false,\n    preserveHtmlComments: false,\n    enableStaticContentOptimization: true,\n    // TODO [#3370]: remove experimental template expression flag\n    experimentalComplexExpressions: false,\n    disableSyntheticShadowSupport: false,\n    enableLightningWebSecurityTransforms: false,\n};\nconst DEFAULT_DYNAMIC_IMPORT_CONFIG = {\n    loader: '',\n    strictSpecifier: true,\n};\nconst DEFAULT_STYLESHEET_CONFIG = {\n    customProperties: {\n        resolution: { type: 'native' },\n    },\n};\nconst DEFAULT_OUTPUT_CONFIG = {\n    minify: false,\n    sourcemap: false,\n};\nexport function validateTransformOptions(options) {\n    validateOptions(options);\n    return normalizeOptions(options);\n}\nfunction validateOptions(options) {\n    invariant(!isUndefined(options), CompilerValidationErrors.MISSING_OPTIONS_OBJECT, [options]);\n    if (!isUndefined(options.enableLwcSpread) && !alreadyWarnedAboutLwcSpread) {\n        alreadyWarnedAboutLwcSpread = true;\n        // eslint-disable-next-line no-console\n        console.warn(`\"enableLwcSpread\" property is deprecated. The value doesn't impact the compilation and can safely be removed.`);\n    }\n    if (!isUndefined(options.stylesheetConfig) && !alreadyWarnedOnStylesheetConfig) {\n        alreadyWarnedOnStylesheetConfig = true;\n        // eslint-disable-next-line no-console\n        console.warn(`\"stylesheetConfig\" property is deprecated. The value doesn't impact the compilation and can safely be removed.`);\n    }\n    if (!isUndefined(options.outputConfig)) {\n        validateOutputConfig(options.outputConfig);\n    }\n}\nfunction isUndefinedOrBoolean(property) {\n    return isUndefined(property) || isBoolean(property);\n}\nfunction validateOutputConfig(config) {\n    invariant(isUndefinedOrBoolean(config.sourcemap), CompilerValidationErrors.INVALID_SOURCEMAP_PROPERTY, [config.sourcemap]);\n    if (!isUndefined(config.minify)) {\n        // eslint-disable-next-line no-console\n        console.warn(`\"OutputConfig.minify\" property is deprecated. The value doesn't impact the compilation and can safely be removed.`);\n    }\n}\nfunction normalizeOptions(options) {\n    const outputConfig = Object.assign(Object.assign({}, DEFAULT_OUTPUT_CONFIG), options.outputConfig);\n    const stylesheetConfig = {\n        customProperties: Object.assign(Object.assign({}, DEFAULT_STYLESHEET_CONFIG.customProperties), (options.stylesheetConfig && options.stylesheetConfig.customProperties)),\n    };\n    const experimentalDynamicComponent = Object.assign(Object.assign({}, DEFAULT_DYNAMIC_IMPORT_CONFIG), options.experimentalDynamicComponent);\n    const apiVersion = getAPIVersionFromNumber(options.apiVersion);\n    return Object.assign(Object.assign(Object.assign({}, DEFAULT_OPTIONS), options), { stylesheetConfig,\n        outputConfig,\n        experimentalDynamicComponent,\n        apiVersion });\n}\n//# sourceMappingURL=options.js.map","/*\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: MIT\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT\n */\nimport * as styleCompiler from '@lwc/style-compiler';\nimport { normalizeToCompilerError, TransformerErrors } from '@lwc/errors';\nexport default function styleTransform(src, filename, config) {\n    const { customProperties } = config.stylesheetConfig;\n    const styleCompilerConfig = {\n        customProperties: {\n            resolverModule: customProperties.resolution.type === 'module'\n                ? customProperties.resolution.name\n                : undefined,\n        },\n        scoped: config.scopedStyles,\n        disableSyntheticShadowSupport: config.disableSyntheticShadowSupport,\n        apiVersion: config.apiVersion,\n    };\n    let res;\n    try {\n        res = styleCompiler.transform(src, filename, styleCompilerConfig);\n    }\n    catch (e) {\n        throw normalizeToCompilerError(TransformerErrors.CSS_TRANSFORMER_ERROR, e, { filename });\n    }\n    // Rollup only cares about the mappings property on the map. Since producing a source map for\n    // the styles doesn't make sense, the transform returns an empty mappings.\n    return {\n        code: res.code,\n        map: { mappings: '' },\n    };\n}\n//# sourceMappingURL=style.js.map","/*\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: MIT\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT\n */\nimport * as path from 'path';\nimport { isAPIFeatureEnabled } from '@lwc/shared';\nimport { CompilerError, normalizeToCompilerError, DiagnosticLevel, TransformerErrors, } from '@lwc/errors';\nimport { compile } from '@lwc/template-compiler';\n/**\n * Transforms a HTML template into module exporting a template function.\n * The transform also add a style import for the default stylesheet associated with\n * the template regardless if there is an actual style or not.\n */\nexport default function templateTransform(src, filename, options) {\n    const { experimentalDynamicComponent, \n    // TODO [#3370]: remove experimental template expression flag\n    experimentalComplexExpressions, preserveHtmlComments, enableStaticContentOptimization, customRendererConfig, enableDynamicComponents, experimentalDynamicDirective: deprecatedDynamicDirective, instrumentation, namespace, name, apiVersion, } = options;\n    const experimentalDynamicDirective = deprecatedDynamicDirective !== null && deprecatedDynamicDirective !== void 0 ? deprecatedDynamicDirective : Boolean(experimentalDynamicComponent);\n    let result;\n    try {\n        result = compile(src, {\n            experimentalDynamicDirective,\n            // TODO [#3370]: remove experimental template expression flag\n            experimentalComplexExpressions,\n            preserveHtmlComments,\n            enableStaticContentOptimization,\n            customRendererConfig,\n            enableDynamicComponents,\n            instrumentation,\n            apiVersion,\n        });\n    }\n    catch (e) {\n        throw normalizeToCompilerError(TransformerErrors.HTML_TRANSFORMER_ERROR, e, { filename });\n    }\n    const fatalError = result.warnings.find((warning) => warning.level === DiagnosticLevel.Error);\n    if (fatalError) {\n        throw CompilerError.from(fatalError, { filename });\n    }\n    // The \"Error\" diagnostic level makes no sense to include here, because it would already have been\n    // thrown above. As for \"Log\" and \"Fatal\", they are currently unused.\n    const warnings = result.warnings.filter((_) => _.level === DiagnosticLevel.Warning);\n    const scopeToken = generateScopeToken(filename, namespace, name, apiVersion);\n    // Rollup only cares about the mappings property on the map. Since producing a source map for\n    // the template doesn't make sense, the transform returns an empty mappings.\n    return {\n        code: serialize(result.code, filename, scopeToken),\n        map: { mappings: '' },\n        warnings,\n        cssScopeTokens: [\n            scopeToken,\n            `${scopeToken}-host`, // implicit scope token created by `makeHostToken()` in `@lwc/engine-core`\n        ],\n    };\n}\n// The reason this hash code implementation [1] is chosen is because:\n// 1. It has a very low hash collision rate - testing a list of 466,551 English words [2], it generates no collisions\n// 2. It is fast - it can hash those 466k words in 70ms (Node 16, 2020 MacBook Pro)\n// 3. The output size is reasonable (32-bit - this can be base-32 encoded at 10-11 characters)\n//\n// Also note that the reason we're hashing rather than generating a random number is because\n// we want the output to be predictable given the input, which helps with caching.\n//\n// [1]: https://stackoverflow.com/a/52171480\n// [2]: https://github.com/dwyl/english-words/blob/a77cb15f4f5beb59c15b945f2415328a6b33c3b0/words.txt\nfunction generateHashCode(str) {\n    const seed = 0;\n    let h1 = 0xdeadbeef ^ seed;\n    let h2 = 0x41c6ce57 ^ seed;\n    for (let i = 0, ch; i < str.length; i++) {\n        ch = str.charCodeAt(i);\n        h1 = Math.imul(h1 ^ ch, 2654435761);\n        h2 = Math.imul(h2 ^ ch, 1597334677);\n    }\n    h1 = Math.imul(h1 ^ (h1 >>> 16), 2246822507);\n    h1 ^= Math.imul(h2 ^ (h2 >>> 13), 3266489909);\n    h2 = Math.imul(h2 ^ (h2 >>> 16), 2246822507);\n    h2 ^= Math.imul(h1 ^ (h1 >>> 13), 3266489909);\n    return 4294967296 * (2097151 & h2) + (h1 >>> 0);\n}\nfunction escapeScopeToken(input) {\n    // Minimal escape for strings containing the \"@\" and \"#\" characters, which are disallowed\n    // in certain cases in attribute names\n    return input.replace(/@/g, '___at___').replace(/#/g, '___hash___');\n}\nfunction generateScopeToken(filename, namespace, name, apiVersion) {\n    const uniqueToken = `${namespace}-${name}_${path.basename(filename, path.extname(filename))}`;\n    if (isAPIFeatureEnabled(0 /* APIFeature.LOWERCASE_SCOPE_TOKENS */, apiVersion)) {\n        const hashCode = generateHashCode(uniqueToken);\n        // This scope token is all lowercase so that it works correctly in case-sensitive namespaces (e.g. SVG).\n        // It is deliberately designed to discourage people from relying on it by appearing somewhat random.\n        // (But not totally random, because it's nice to have stable scope tokens for our own tests.)\n        // Base-32 is chosen because it is not case-sensitive (0-v), and generates short strings with the given hash\n        // code implementation (10-11 characters).\n        return `lwc-${hashCode.toString(32)}`;\n    }\n    else {\n        // This scope token is based on the namespace and name, and contains a mix of uppercase/lowercase chars\n        return escapeScopeToken(uniqueToken);\n    }\n}\nfunction serialize(code, filename, scopeToken) {\n    const cssRelPath = `./${path.basename(filename, path.extname(filename))}.css`;\n    const scopedCssRelPath = `./${path.basename(filename, path.extname(filename))}.scoped.css`;\n    let buffer = '';\n    buffer += `import { freezeTemplate } from \"lwc\";\\n\\n`;\n    buffer += `import _implicitStylesheets from \"${cssRelPath}\";\\n\\n`;\n    buffer += `import _implicitScopedStylesheets from \"${scopedCssRelPath}?scoped=true\";\\n\\n`;\n    buffer += code;\n    buffer += '\\n\\n';\n    buffer += 'if (_implicitStylesheets) {\\n';\n    buffer += `  tmpl.stylesheets.push.apply(tmpl.stylesheets, _implicitStylesheets);\\n`;\n    buffer += `}\\n`;\n    buffer += 'if (_implicitScopedStylesheets) {\\n';\n    buffer += `  tmpl.stylesheets.push.apply(tmpl.stylesheets, _implicitScopedStylesheets);\\n`;\n    buffer += `}\\n`;\n    buffer += `tmpl.stylesheetToken = \"${scopeToken}\";\\n`;\n    // Note that `renderMode` and `slots` are already rendered in @lwc/template-compiler and appear\n    // as `code` above. At this point, no more expando props should be added to `tmpl`.\n    buffer += 'freezeTemplate(tmpl);\\n';\n    return buffer;\n}\n//# sourceMappingURL=template.js.map","/*\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: MIT\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT\n */\nimport * as babel from '@babel/core';\nimport babelClassPropertiesPlugin from '@babel/plugin-proposal-class-properties';\nimport babelObjectRestSpreadPlugin from '@babel/plugin-proposal-object-rest-spread';\nimport lwcClassTransformPlugin from '@lwc/babel-plugin-component';\nimport lockerBabelPluginTransformUnforgeables from '@locker/babel-plugin-transform-unforgeables';\nimport babelAsyncToGenPlugin from '@babel/plugin-transform-async-to-generator';\nimport babelAsyncGeneratorFunctionsPlugin from '@babel/plugin-proposal-async-generator-functions';\nimport { normalizeToCompilerError, TransformerErrors } from '@lwc/errors';\nexport default function scriptTransform(code, filename, options) {\n    const { isExplicitImport, experimentalDynamicComponent: dynamicImports, outputConfig: { sourcemap }, enableLightningWebSecurityTransforms, namespace, name, instrumentation, apiVersion, } = options;\n    const lwcBabelPluginOptions = {\n        isExplicitImport,\n        dynamicImports,\n        namespace,\n        name,\n        instrumentation,\n        apiVersion,\n    };\n    const plugins = [\n        [lwcClassTransformPlugin, lwcBabelPluginOptions],\n        [babelClassPropertiesPlugin, { loose: true }],\n        // This plugin should be removed in a future version. The object-rest-spread is\n        // already a stage 4 feature. The LWC compile should leave this syntax untouched.\n        babelObjectRestSpreadPlugin,\n    ];\n    if (enableLightningWebSecurityTransforms) {\n        plugins.push(lockerBabelPluginTransformUnforgeables, babelAsyncToGenPlugin, babelAsyncGeneratorFunctionsPlugin);\n    }\n    let result;\n    try {\n        result = babel.transformSync(code, {\n            filename,\n            sourceMaps: sourcemap,\n            // Prevent Babel from loading local configuration.\n            babelrc: false,\n            configFile: false,\n            // Force Babel to generate new line and white spaces. This prevent Babel from generating\n            // an error when the generated code is over 500KB.\n            compact: false,\n            plugins,\n        });\n    }\n    catch (e) {\n        throw normalizeToCompilerError(TransformerErrors.JS_TRANSFORMER_ERROR, e, { filename });\n    }\n    return {\n        code: result.code,\n        map: result.map,\n    };\n}\n//# sourceMappingURL=javascript.js.map","/*\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: MIT\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT\n */\nimport * as path from 'path';\nimport { isString } from '@lwc/shared';\nimport { TransformerErrors, generateCompilerError, invariant, } from '@lwc/errors';\nimport { validateTransformOptions } from '../options';\nimport styleTransform from './style';\nimport templateTransformer from './template';\nimport scriptTransformer from './javascript';\n/**\n * Transforms the passed code. Returning a Promise of an object with the generated code, source map\n * and gathered metadata.\n *\n * @deprecated Use transformSync instead.\n */\nexport function transform(src, filename, options) {\n    validateArguments(src, filename);\n    return new Promise((resolve, reject) => {\n        try {\n            const res = transformSync(src, filename, options);\n            resolve(res);\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\n/**\n * Transform the passed source code. Returning an object with the generated code, source map and\n * gathered metadata.\n */\nexport function transformSync(src, filename, options) {\n    validateArguments(src, filename);\n    const normalizedOptions = validateTransformOptions(options);\n    return transformFile(src, filename, normalizedOptions);\n}\nfunction validateArguments(src, filename) {\n    invariant(isString(src), TransformerErrors.INVALID_SOURCE, [src]);\n    invariant(isString(filename), TransformerErrors.INVALID_ID, [filename]);\n}\nfunction transformFile(src, filename, options) {\n    let transformer;\n    switch (path.extname(filename)) {\n        case '.html':\n            transformer = templateTransformer;\n            break;\n        case '.css':\n            transformer = styleTransform;\n            break;\n        case '.ts':\n        case '.js':\n            transformer = scriptTransformer;\n            break;\n        default:\n            throw generateCompilerError(TransformerErrors.NO_AVAILABLE_TRANSFORMER, {\n                messageArgs: [filename],\n                origin: { filename },\n            });\n    }\n    return transformer(src, filename, options);\n}\n//# sourceMappingURL=transformer.js.map","/*\n * Copyright (c) 2018, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: MIT\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/MIT\n */\nexport { transform, transformSync } from './transformers/transformer';\nexport const version = process.env.LWC_VERSION;\n//# sourceMappingURL=index.js.map"],"names":["invariant","isUndefined","CompilerValidationErrors","isBoolean","getAPIVersionFromNumber","styleCompiler","normalizeToCompilerError","TransformerErrors","compile","DiagnosticLevel","CompilerError","path","isAPIFeatureEnabled","babel","isString","templateTransformer","scriptTransformer","generateCompilerError"],"mappings":"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"}